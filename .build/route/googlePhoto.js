const _0x20ac3a=function(){let _0x1ef8a7=!![];return function(_0x43bc7a,_0x2464b3){const _0x36350d=_0x1ef8a7?function(){if(_0x2464b3){const _0x52ee69=_0x2464b3['apply'](_0x43bc7a,arguments);_0x2464b3=null;return _0x52ee69;}}:function(){};_0x1ef8a7=![];return _0x36350d;};}();const _0xfdd3d=_0x20ac3a(this,function(){const _0x118cde=function(){const _0x1b062e=_0x118cde['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1b062e['test'](_0xfdd3d);};return _0x118cde();});_0xfdd3d();const _0x20592b=function(){let _0x432b72=!![];return function(_0x4a777a,_0x12b98e){const _0x495b76=_0x432b72?function(){if(_0x12b98e){const _0x3d631b=_0x12b98e['apply'](_0x4a777a,arguments);_0x12b98e=null;return _0x3d631b;}}:function(){};_0x432b72=![];return _0x495b76;};}();const _0xc93fbc=_0x20592b(this,function(){const _0x21ffc7=function(){};let _0x511683;try{const _0x5175cd=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x511683=_0x5175cd();}catch(_0x23a062){_0x511683=window;}if(!_0x511683['console']){_0x511683['console']=function(_0x3ba6ce){const _0x64b913={};_0x64b913['log']=_0x3ba6ce;_0x64b913['warn']=_0x3ba6ce;_0x64b913['debug']=_0x3ba6ce;_0x64b913['info']=_0x3ba6ce;_0x64b913['error']=_0x3ba6ce;_0x64b913['exception']=_0x3ba6ce;_0x64b913['table']=_0x3ba6ce;_0x64b913['trace']=_0x3ba6ce;return _0x64b913;}(_0x21ffc7);}else{_0x511683['console']['log']=_0x21ffc7;_0x511683['console']['warn']=_0x21ffc7;_0x511683['console']['debug']=_0x21ffc7;_0x511683['console']['info']=_0x21ffc7;_0x511683['console']['error']=_0x21ffc7;_0x511683['console']['exception']=_0x21ffc7;_0x511683['console']['table']=_0x21ffc7;_0x511683['console']['trace']=_0x21ffc7;}});_0xc93fbc();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x292f9d,_0xcf049e){const _0x492a4f=_0x292f9d['query']['idAlbum'];const _0x34ca56='https://photos.app.goo.gl/'+_0x492a4f;let _0x5df87c=[];db['doc'](_0x492a4f)['get']()['then'](_0x525fe8=>{if(!_0x525fe8['exists']){request['get'](_0x34ca56,(_0x4c58a3,_0x47a800,_0x253761)=>{_0x5df87c=getImageInAlbum(_0x253761);db['doc'](_0x492a4f)['set']({'createDate':new Date(),'order':0x0,'value':_0x5df87c});_0xcf049e['send'](_0x5df87c);});}else{_0xcf049e['send'](_0x525fe8['data']()['value']);}});};function getImageInAlbum(_0x47ba71){const _0x4fb4bb=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x159a15=new Set();let _0x109256;while(_0x109256=_0x4fb4bb['exec'](_0x47ba71)){_0x159a15['add'](_0x109256[0x1]);}return Array['from'](_0x159a15);}