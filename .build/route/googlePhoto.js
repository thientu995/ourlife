const _0x2352d1=function(){let _0x3555c5=!![];return function(_0x48e412,_0x5eb59c){const _0x108b82=_0x3555c5?function(){if(_0x5eb59c){const _0x4685f2=_0x5eb59c['apply'](_0x48e412,arguments);_0x5eb59c=null;return _0x4685f2;}}:function(){};_0x3555c5=![];return _0x108b82;};}();const _0x28c33f=_0x2352d1(this,function(){const _0x475354=function(){const _0x59b35e=_0x475354['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x59b35e['test'](_0x28c33f);};return _0x475354();});_0x28c33f();const _0x4c92c1=function(){let _0x5090b3=!![];return function(_0x37fd81,_0x503d04){const _0x4a5129=_0x5090b3?function(){if(_0x503d04){const _0x31b846=_0x503d04['apply'](_0x37fd81,arguments);_0x503d04=null;return _0x31b846;}}:function(){};_0x5090b3=![];return _0x4a5129;};}();const _0x5c5023=_0x4c92c1(this,function(){const _0x459ddc=function(){};const _0x1023f8=function(){let _0x5a6c63;try{_0x5a6c63=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x16afee){_0x5a6c63=window;}return _0x5a6c63;};const _0x4608e9=_0x1023f8();if(!_0x4608e9['console']){_0x4608e9['console']=function(_0x8ea198){const _0x36a19c={};_0x36a19c['log']=_0x8ea198;_0x36a19c['warn']=_0x8ea198;_0x36a19c['debug']=_0x8ea198;_0x36a19c['info']=_0x8ea198;_0x36a19c['error']=_0x8ea198;_0x36a19c['exception']=_0x8ea198;_0x36a19c['table']=_0x8ea198;_0x36a19c['trace']=_0x8ea198;return _0x36a19c;}(_0x459ddc);}else{_0x4608e9['console']['log']=_0x459ddc;_0x4608e9['console']['warn']=_0x459ddc;_0x4608e9['console']['debug']=_0x459ddc;_0x4608e9['console']['info']=_0x459ddc;_0x4608e9['console']['error']=_0x459ddc;_0x4608e9['console']['exception']=_0x459ddc;_0x4608e9['console']['table']=_0x459ddc;_0x4608e9['console']['trace']=_0x459ddc;}});_0x5c5023();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x4c0d80,_0x55fe8b){const _0xc93fcf=_0x4c0d80['query']['idAlbum'];const _0x1f87ee='https://photos.app.goo.gl/'+_0xc93fcf;let _0x2bd907=[];db['doc'](_0xc93fcf)['get']()['then'](_0x396654=>{if(!_0x396654['exists']){request['get'](_0x1f87ee,(_0x3c5513,_0x568bd1,_0x3aceb5)=>{_0x2bd907=getImageInAlbum(_0x3aceb5);db['doc'](_0xc93fcf)['set']({'createDate':new Date(),'order':0x0,'value':_0x2bd907});_0x55fe8b['send'](_0x2bd907);});}else{_0x55fe8b['send'](_0x396654['data']()['value']);}});};function getImageInAlbum(_0xd5a129){const _0x4c3638=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x2c2d18=new Set();let _0x445bfc;while(_0x445bfc=_0x4c3638['exec'](_0xd5a129)){_0x2c2d18['add'](_0x445bfc[0x1]);}return Array['from'](_0x2c2d18);}