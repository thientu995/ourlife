const _0x123682=function(){let _0x16d87d=!![];return function(_0x284f4d,_0x17ece2){const _0x54e17c=_0x16d87d?function(){if(_0x17ece2){const _0x422186=_0x17ece2['apply'](_0x284f4d,arguments);_0x17ece2=null;return _0x422186;}}:function(){};_0x16d87d=![];return _0x54e17c;};}();const _0x474342=_0x123682(this,function(){const _0x8755ff=function(){const _0x5c314a=_0x8755ff['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5c314a['test'](_0x474342);};return _0x8755ff();});_0x474342();const _0x385e49=function(){let _0x402fe2=!![];return function(_0x14e6d3,_0x2ad8a8){const _0x5ab34b=_0x402fe2?function(){if(_0x2ad8a8){const _0xe1e27f=_0x2ad8a8['apply'](_0x14e6d3,arguments);_0x2ad8a8=null;return _0xe1e27f;}}:function(){};_0x402fe2=![];return _0x5ab34b;};}();const _0x5e0478=_0x385e49(this,function(){const _0x9f85dc=function(){};const _0xd4e441=function(){let _0x2b959f;try{_0x2b959f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x126e5f){_0x2b959f=window;}return _0x2b959f;};const _0x5580cf=_0xd4e441();if(!_0x5580cf['console']){_0x5580cf['console']=function(_0x128e2a){const _0x189e6b={};_0x189e6b['log']=_0x128e2a;_0x189e6b['warn']=_0x128e2a;_0x189e6b['debug']=_0x128e2a;_0x189e6b['info']=_0x128e2a;_0x189e6b['error']=_0x128e2a;_0x189e6b['exception']=_0x128e2a;_0x189e6b['table']=_0x128e2a;_0x189e6b['trace']=_0x128e2a;return _0x189e6b;}(_0x9f85dc);}else{_0x5580cf['console']['log']=_0x9f85dc;_0x5580cf['console']['warn']=_0x9f85dc;_0x5580cf['console']['debug']=_0x9f85dc;_0x5580cf['console']['info']=_0x9f85dc;_0x5580cf['console']['error']=_0x9f85dc;_0x5580cf['console']['exception']=_0x9f85dc;_0x5580cf['console']['table']=_0x9f85dc;_0x5580cf['console']['trace']=_0x9f85dc;}});_0x5e0478();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x2b6dc7,_0x5e839e){const _0x40f9fb=_0x2b6dc7['query']['idAlbum'];const _0xcb20e5='https://photos.app.goo.gl/'+_0x40f9fb;let _0xcf7312=[];db['doc'](_0x40f9fb)['get']()['then'](_0x3d64c4=>{if(!_0x3d64c4['exists']){request['get'](_0xcb20e5,(_0xa97105,_0x58dc43,_0x19d3bb)=>{_0xcf7312=getImageInAlbum(_0x19d3bb);db['doc'](_0x40f9fb)['set']({'createDate':new Date(),'order':0x0,'value':_0xcf7312});_0x5e839e['send'](_0xcf7312);});}else{_0x5e839e['send'](_0x3d64c4['data']()['value']);}});};function getImageInAlbum(_0x4cb14b){const _0x2330cd=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0xf9554=new Set();let _0x4dec6b;while(_0x4dec6b=_0x2330cd['exec'](_0x4cb14b)){_0xf9554['add'](_0x4dec6b[0x1]);}return Array['from'](_0xf9554);}