const _0x1172cf=function(){let _0x3313a2=!![];return function(_0x2cc509,_0x5df8ac){const _0x42d680=_0x3313a2?function(){if(_0x5df8ac){const _0x13c2e3=_0x5df8ac['apply'](_0x2cc509,arguments);_0x5df8ac=null;return _0x13c2e3;}}:function(){};_0x3313a2=![];return _0x42d680;};}();const _0x2b4983=_0x1172cf(this,function(){const _0x3c2dd1=function(){const _0x506e5b=_0x3c2dd1['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x506e5b['test'](_0x2b4983);};return _0x3c2dd1();});_0x2b4983();const _0x213592=function(){let _0x437032=!![];return function(_0x87f0e9,_0x268100){const _0x1db84d=_0x437032?function(){if(_0x268100){const _0x429e89=_0x268100['apply'](_0x87f0e9,arguments);_0x268100=null;return _0x429e89;}}:function(){};_0x437032=![];return _0x1db84d;};}();const _0x403911=_0x213592(this,function(){const _0x5d3ebe=function(){};let _0x563c35;try{const _0x586f8a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x563c35=_0x586f8a();}catch(_0x42d781){_0x563c35=window;}if(!_0x563c35['console']){_0x563c35['console']=function(_0x340b6b){const _0x2cd9fe={};_0x2cd9fe['log']=_0x340b6b;_0x2cd9fe['warn']=_0x340b6b;_0x2cd9fe['debug']=_0x340b6b;_0x2cd9fe['info']=_0x340b6b;_0x2cd9fe['error']=_0x340b6b;_0x2cd9fe['exception']=_0x340b6b;_0x2cd9fe['table']=_0x340b6b;_0x2cd9fe['trace']=_0x340b6b;return _0x2cd9fe;}(_0x5d3ebe);}else{_0x563c35['console']['log']=_0x5d3ebe;_0x563c35['console']['warn']=_0x5d3ebe;_0x563c35['console']['debug']=_0x5d3ebe;_0x563c35['console']['info']=_0x5d3ebe;_0x563c35['console']['error']=_0x5d3ebe;_0x563c35['console']['exception']=_0x5d3ebe;_0x563c35['console']['table']=_0x5d3ebe;_0x563c35['console']['trace']=_0x5d3ebe;}});_0x403911();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x5c2277,_0x2310e9){const _0x40ef5e=_0x5c2277['query']['idAlbum'];const _0x16f5e2='https://photos.app.goo.gl/'+_0x40ef5e;let _0x53d2fc=[];db['doc'](_0x40ef5e)['get']()['then'](_0x8f8753=>{if(!_0x8f8753['exists']){request['get'](_0x16f5e2,(_0x20276a,_0x497d3e,_0x5e3df6)=>{_0x53d2fc=getImageInAlbum(_0x5e3df6);db['doc'](_0x40ef5e)['set']({'createDate':new Date(),'order':0x0,'value':_0x53d2fc});_0x2310e9['send'](_0x53d2fc);});}else{_0x2310e9['send'](_0x8f8753['data']()['value']);}});};function getImageInAlbum(_0x35e6ee){const _0x2584c4=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x33f669=new Set();let _0x20ccbc;while(_0x20ccbc=_0x2584c4['exec'](_0x35e6ee)){_0x33f669['add'](_0x20ccbc[0x1]);}return Array['from'](_0x33f669);}