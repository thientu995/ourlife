const _0x240d6e=function(){let _0x4d373e=!![];return function(_0x1544c9,_0x348e05){const _0x24f312=_0x4d373e?function(){if(_0x348e05){const _0x5769dd=_0x348e05['apply'](_0x1544c9,arguments);_0x348e05=null;return _0x5769dd;}}:function(){};_0x4d373e=![];return _0x24f312;};}();const _0x2d257b=_0x240d6e(this,function(){const _0x257120=function(){const _0x171da1=_0x257120['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x171da1['test'](_0x2d257b);};return _0x257120();});_0x2d257b();const _0x230232=function(){let _0x54f8a6=!![];return function(_0x154515,_0x54b3fd){const _0x49fc3d=_0x54f8a6?function(){if(_0x54b3fd){const _0x6c1be9=_0x54b3fd['apply'](_0x154515,arguments);_0x54b3fd=null;return _0x6c1be9;}}:function(){};_0x54f8a6=![];return _0x49fc3d;};}();const _0xaad982=_0x230232(this,function(){const _0xdeab64=function(){};const _0x3be993=function(){let _0xa68bb7;try{_0xa68bb7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x220f25){_0xa68bb7=window;}return _0xa68bb7;};const _0x2bc3ed=_0x3be993();if(!_0x2bc3ed['console']){_0x2bc3ed['console']=function(_0x736cf0){const _0x15f80e={};_0x15f80e['log']=_0x736cf0;_0x15f80e['warn']=_0x736cf0;_0x15f80e['debug']=_0x736cf0;_0x15f80e['info']=_0x736cf0;_0x15f80e['error']=_0x736cf0;_0x15f80e['exception']=_0x736cf0;_0x15f80e['table']=_0x736cf0;_0x15f80e['trace']=_0x736cf0;return _0x15f80e;}(_0xdeab64);}else{_0x2bc3ed['console']['log']=_0xdeab64;_0x2bc3ed['console']['warn']=_0xdeab64;_0x2bc3ed['console']['debug']=_0xdeab64;_0x2bc3ed['console']['info']=_0xdeab64;_0x2bc3ed['console']['error']=_0xdeab64;_0x2bc3ed['console']['exception']=_0xdeab64;_0x2bc3ed['console']['table']=_0xdeab64;_0x2bc3ed['console']['trace']=_0xdeab64;}});_0xaad982();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x4f19ff,_0x224129){const _0x119508=_0x4f19ff['query']['idAlbum'];const _0x2b13d7='https://photos.app.goo.gl/'+_0x119508;let _0x20d907=[];db['doc'](_0x119508)['get']()['then'](_0x2660c7=>{if(!_0x2660c7['exists']){request['get'](_0x2b13d7,(_0x2f3c8f,_0x29b67b,_0x30bf61)=>{_0x20d907=getImageInAlbum(_0x30bf61);db['doc'](_0x119508)['set']({'createDate':new Date(),'order':0x0,'value':_0x20d907});_0x224129['send'](_0x20d907);});}else{_0x224129['send'](_0x2660c7['data']()['value']);}});};function getImageInAlbum(_0x18fb43){const _0x22a556=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x54cddb=new Set();let _0x857933;while(_0x857933=_0x22a556['exec'](_0x18fb43)){_0x54cddb['add'](_0x857933[0x1]);}return Array['from'](_0x54cddb);}