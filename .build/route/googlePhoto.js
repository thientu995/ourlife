const _0x360140=function(){let _0x1b2328=!![];return function(_0x36c3e6,_0x387353){const _0x312a47=_0x1b2328?function(){if(_0x387353){const _0x794e73=_0x387353['apply'](_0x36c3e6,arguments);_0x387353=null;return _0x794e73;}}:function(){};_0x1b2328=![];return _0x312a47;};}();const _0x2500f7=_0x360140(this,function(){const _0x45c7c3=function(){const _0x31d2c7=_0x45c7c3['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x31d2c7['test'](_0x2500f7);};return _0x45c7c3();});_0x2500f7();const _0x5b05d2=function(){let _0x477a0a=!![];return function(_0x3bbbd0,_0x485bd9){const _0x300473=_0x477a0a?function(){if(_0x485bd9){const _0x34c870=_0x485bd9['apply'](_0x3bbbd0,arguments);_0x485bd9=null;return _0x34c870;}}:function(){};_0x477a0a=![];return _0x300473;};}();const _0x10801c=_0x5b05d2(this,function(){const _0x56daec=function(){};let _0x2efb8c;try{const _0x3a13e2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2efb8c=_0x3a13e2();}catch(_0x448195){_0x2efb8c=window;}if(!_0x2efb8c['console']){_0x2efb8c['console']=function(_0x470e62){const _0x3712f4={};_0x3712f4['log']=_0x470e62;_0x3712f4['warn']=_0x470e62;_0x3712f4['debug']=_0x470e62;_0x3712f4['info']=_0x470e62;_0x3712f4['error']=_0x470e62;_0x3712f4['exception']=_0x470e62;_0x3712f4['table']=_0x470e62;_0x3712f4['trace']=_0x470e62;return _0x3712f4;}(_0x56daec);}else{_0x2efb8c['console']['log']=_0x56daec;_0x2efb8c['console']['warn']=_0x56daec;_0x2efb8c['console']['debug']=_0x56daec;_0x2efb8c['console']['info']=_0x56daec;_0x2efb8c['console']['error']=_0x56daec;_0x2efb8c['console']['exception']=_0x56daec;_0x2efb8c['console']['table']=_0x56daec;_0x2efb8c['console']['trace']=_0x56daec;}});_0x10801c();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0xc44bc8,_0x156229){const _0x32e795=_0xc44bc8['query']['idAlbum'];const _0x271c40='https://photos.app.goo.gl/'+_0x32e795;let _0x5e4f13=[];db['doc'](_0x32e795)['get']()['then'](_0x46876e=>{if(!_0x46876e['exists']){request['get'](_0x271c40,(_0x133bf2,_0x5b527e,_0x1ee596)=>{_0x5e4f13=getImageInAlbum(_0x1ee596);db['doc'](_0x32e795)['set']({'createDate':new Date(),'order':0x0,'value':_0x5e4f13});_0x156229['send'](_0x5e4f13);});}else{_0x156229['send'](_0x46876e['data']()['value']);}});};function getImageInAlbum(_0x1525fa){const _0x46b7a8=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x2fa584=new Set();let _0x28e6d7;while(_0x28e6d7=_0x46b7a8['exec'](_0x1525fa)){_0x2fa584['add'](_0x28e6d7[0x1]);}return Array['from'](_0x2fa584);}