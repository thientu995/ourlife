const _0x2ad55d=function(){let _0x2fe46c=!![];return function(_0x126fda,_0x65e209){const _0x2c0e1b=_0x2fe46c?function(){if(_0x65e209){const _0x317d9a=_0x65e209['apply'](_0x126fda,arguments);_0x65e209=null;return _0x317d9a;}}:function(){};_0x2fe46c=![];return _0x2c0e1b;};}();const _0x1bea3f=_0x2ad55d(this,function(){const _0x4169c6=function(){const _0x2d729d=_0x4169c6['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2d729d['test'](_0x1bea3f);};return _0x4169c6();});_0x1bea3f();const _0x2632f6=function(){let _0x534279=!![];return function(_0x214aaf,_0xdd990c){const _0x368a5b=_0x534279?function(){if(_0xdd990c){const _0x38efa4=_0xdd990c['apply'](_0x214aaf,arguments);_0xdd990c=null;return _0x38efa4;}}:function(){};_0x534279=![];return _0x368a5b;};}();const _0x5ae18f=_0x2632f6(this,function(){const _0x143f38=function(){};let _0x1e0dbb;try{const _0x1bcf98=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1e0dbb=_0x1bcf98();}catch(_0x24fbd3){_0x1e0dbb=window;}if(!_0x1e0dbb['console']){_0x1e0dbb['console']=function(_0xb0f819){const _0x3c84db={};_0x3c84db['log']=_0xb0f819;_0x3c84db['warn']=_0xb0f819;_0x3c84db['debug']=_0xb0f819;_0x3c84db['info']=_0xb0f819;_0x3c84db['error']=_0xb0f819;_0x3c84db['exception']=_0xb0f819;_0x3c84db['table']=_0xb0f819;_0x3c84db['trace']=_0xb0f819;return _0x3c84db;}(_0x143f38);}else{_0x1e0dbb['console']['log']=_0x143f38;_0x1e0dbb['console']['warn']=_0x143f38;_0x1e0dbb['console']['debug']=_0x143f38;_0x1e0dbb['console']['info']=_0x143f38;_0x1e0dbb['console']['error']=_0x143f38;_0x1e0dbb['console']['exception']=_0x143f38;_0x1e0dbb['console']['table']=_0x143f38;_0x1e0dbb['console']['trace']=_0x143f38;}});_0x5ae18f();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x4fb7cf,_0x4f910d){const _0x2a2761=_0x4fb7cf['query']['idAlbum'];const _0x13deb0='https://photos.app.goo.gl/'+_0x2a2761;let _0x1a6d05=[];db['doc'](_0x2a2761)['get']()['then'](_0x5a2d5b=>{if(!_0x5a2d5b['exists']){request['get'](_0x13deb0,(_0x19ebde,_0x45ac94,_0x3f9117)=>{_0x1a6d05=getImageInAlbum(_0x3f9117);db['doc'](_0x2a2761)['set']({'createDate':new Date(),'order':0x0,'value':_0x1a6d05});_0x4f910d['send'](_0x1a6d05);});}else{_0x4f910d['send'](_0x5a2d5b['data']()['value']);}});};function getImageInAlbum(_0x56b876){const _0x205446=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x33326e=new Set();let _0x3ae61b;while(_0x3ae61b=_0x205446['exec'](_0x56b876)){_0x33326e['add'](_0x3ae61b[0x1]);}return Array['from'](_0x33326e);}