const _0xd0bfc4=function(){let _0x356cb4=!![];return function(_0x4a3a77,_0x474a3e){const _0x4019ce=_0x356cb4?function(){if(_0x474a3e){const _0x5a9123=_0x474a3e['apply'](_0x4a3a77,arguments);_0x474a3e=null;return _0x5a9123;}}:function(){};_0x356cb4=![];return _0x4019ce;};}();const _0x9a4fcd=_0xd0bfc4(this,function(){const _0x3b22cb=function(){const _0x71324e=_0x3b22cb['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x71324e['test'](_0x9a4fcd);};return _0x3b22cb();});_0x9a4fcd();const _0x5ba4ec=function(){let _0x2506a5=!![];return function(_0x2e9fc9,_0x32367d){const _0x4d0f89=_0x2506a5?function(){if(_0x32367d){const _0x33df88=_0x32367d['apply'](_0x2e9fc9,arguments);_0x32367d=null;return _0x33df88;}}:function(){};_0x2506a5=![];return _0x4d0f89;};}();const _0x5f35d5=_0x5ba4ec(this,function(){const _0x5249ed=function(){};let _0x147fd3;try{const _0x58ff34=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x147fd3=_0x58ff34();}catch(_0xd05d26){_0x147fd3=window;}if(!_0x147fd3['console']){_0x147fd3['console']=function(_0x3f6802){const _0x4ad259={};_0x4ad259['log']=_0x3f6802;_0x4ad259['warn']=_0x3f6802;_0x4ad259['debug']=_0x3f6802;_0x4ad259['info']=_0x3f6802;_0x4ad259['error']=_0x3f6802;_0x4ad259['exception']=_0x3f6802;_0x4ad259['table']=_0x3f6802;_0x4ad259['trace']=_0x3f6802;return _0x4ad259;}(_0x5249ed);}else{_0x147fd3['console']['log']=_0x5249ed;_0x147fd3['console']['warn']=_0x5249ed;_0x147fd3['console']['debug']=_0x5249ed;_0x147fd3['console']['info']=_0x5249ed;_0x147fd3['console']['error']=_0x5249ed;_0x147fd3['console']['exception']=_0x5249ed;_0x147fd3['console']['table']=_0x5249ed;_0x147fd3['console']['trace']=_0x5249ed;}});_0x5f35d5();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x20cded,_0x2562ad){const _0x195ecd=_0x20cded['query']['idAlbum'];const _0x5c3534='https://photos.app.goo.gl/'+_0x195ecd;let _0x11c756=[];db['doc'](_0x195ecd)['get']()['then'](_0x9497de=>{if(!_0x9497de['exists']){request['get'](_0x5c3534,(_0x4bfe34,_0x93601a,_0x2aedb7)=>{_0x11c756=getImageInAlbum(_0x2aedb7);db['doc'](_0x195ecd)['set']({'createDate':new Date(),'order':0x0,'value':_0x11c756});_0x2562ad['send'](_0x11c756);});}else{_0x2562ad['send'](_0x9497de['data']()['value']);}});};function getImageInAlbum(_0xee67f9){const _0x383b82=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x56f5a7=new Set();let _0x2d0b1f;while(_0x2d0b1f=_0x383b82['exec'](_0xee67f9)){_0x56f5a7['add'](_0x2d0b1f[0x1]);}return Array['from'](_0x56f5a7);}