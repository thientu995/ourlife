const _0x2feab2=function(){let _0xfe8d2e=!![];return function(_0x1044d2,_0x1025ed){const _0x8cb01=_0xfe8d2e?function(){if(_0x1025ed){const _0x547078=_0x1025ed['apply'](_0x1044d2,arguments);_0x1025ed=null;return _0x547078;}}:function(){};_0xfe8d2e=![];return _0x8cb01;};}();const _0x40fcf2=_0x2feab2(this,function(){const _0x43674c=function(){const _0x1bc4df=_0x43674c['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1bc4df['test'](_0x40fcf2);};return _0x43674c();});_0x40fcf2();const _0x4c8f25=function(){let _0x47471c=!![];return function(_0x3a03f3,_0x38ac56){const _0x53fbae=_0x47471c?function(){if(_0x38ac56){const _0x5e876b=_0x38ac56['apply'](_0x3a03f3,arguments);_0x38ac56=null;return _0x5e876b;}}:function(){};_0x47471c=![];return _0x53fbae;};}();const _0x51d4fa=_0x4c8f25(this,function(){const _0x282300=function(){};const _0x57369d=function(){let _0x5646f0;try{_0x5646f0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x7a9960){_0x5646f0=window;}return _0x5646f0;};const _0x219088=_0x57369d();if(!_0x219088['console']){_0x219088['console']=function(_0x4e0b15){const _0x398dac={};_0x398dac['log']=_0x4e0b15;_0x398dac['warn']=_0x4e0b15;_0x398dac['debug']=_0x4e0b15;_0x398dac['info']=_0x4e0b15;_0x398dac['error']=_0x4e0b15;_0x398dac['exception']=_0x4e0b15;_0x398dac['table']=_0x4e0b15;_0x398dac['trace']=_0x4e0b15;return _0x398dac;}(_0x282300);}else{_0x219088['console']['log']=_0x282300;_0x219088['console']['warn']=_0x282300;_0x219088['console']['debug']=_0x282300;_0x219088['console']['info']=_0x282300;_0x219088['console']['error']=_0x282300;_0x219088['console']['exception']=_0x282300;_0x219088['console']['table']=_0x282300;_0x219088['console']['trace']=_0x282300;}});_0x51d4fa();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x4d4a22,_0x5aa58c){const _0x1d79db=_0x4d4a22['query']['idAlbum'];const _0x228550='https://photos.app.goo.gl/'+_0x1d79db;let _0x4b21c4=[];db['doc'](_0x1d79db)['get']()['then'](_0x3f5ea0=>{if(!_0x3f5ea0['exists']){request['get'](_0x228550,(_0x375df0,_0xf165d9,_0x216bb6)=>{_0x4b21c4=getImageInAlbum(_0x216bb6);db['doc'](_0x1d79db)['set']({'createDate':new Date(),'order':0x0,'value':_0x4b21c4});_0x5aa58c['send'](_0x4b21c4);});}else{_0x5aa58c['send'](_0x3f5ea0['data']()['value']);}});};function getImageInAlbum(_0x2d82f6){const _0x374978=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x78ba55=new Set();let _0x315863;while(_0x315863=_0x374978['exec'](_0x2d82f6)){_0x78ba55['add'](_0x315863[0x1]);}return Array['from'](_0x78ba55);}