const _0x4d409a=function(){let _0x5b5777=!![];return function(_0x53d58f,_0x509649){const _0x112300=_0x5b5777?function(){if(_0x509649){const _0x21bda0=_0x509649['apply'](_0x53d58f,arguments);_0x509649=null;return _0x21bda0;}}:function(){};_0x5b5777=![];return _0x112300;};}();const _0x3d3ded=_0x4d409a(this,function(){const _0x169fd7=function(){const _0x321709=_0x169fd7['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x321709['test'](_0x3d3ded);};return _0x169fd7();});_0x3d3ded();const _0xa0632d=function(){let _0x94375b=!![];return function(_0x496274,_0x1470d6){const _0x586b49=_0x94375b?function(){if(_0x1470d6){const _0x265623=_0x1470d6['apply'](_0x496274,arguments);_0x1470d6=null;return _0x265623;}}:function(){};_0x94375b=![];return _0x586b49;};}();const _0x18e3ce=_0xa0632d(this,function(){const _0x5bb73f=function(){};const _0x4d4f38=function(){let _0xd59742;try{_0xd59742=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2b8e05){_0xd59742=window;}return _0xd59742;};const _0xee10ca=_0x4d4f38();if(!_0xee10ca['console']){_0xee10ca['console']=function(_0x42c407){const _0x37466b={};_0x37466b['log']=_0x42c407;_0x37466b['warn']=_0x42c407;_0x37466b['debug']=_0x42c407;_0x37466b['info']=_0x42c407;_0x37466b['error']=_0x42c407;_0x37466b['exception']=_0x42c407;_0x37466b['table']=_0x42c407;_0x37466b['trace']=_0x42c407;return _0x37466b;}(_0x5bb73f);}else{_0xee10ca['console']['log']=_0x5bb73f;_0xee10ca['console']['warn']=_0x5bb73f;_0xee10ca['console']['debug']=_0x5bb73f;_0xee10ca['console']['info']=_0x5bb73f;_0xee10ca['console']['error']=_0x5bb73f;_0xee10ca['console']['exception']=_0x5bb73f;_0xee10ca['console']['table']=_0x5bb73f;_0xee10ca['console']['trace']=_0x5bb73f;}});_0x18e3ce();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x37e612,_0x4192c8){const _0x7cf0cd=_0x37e612['query']['idAlbum'];const _0x3e5444='https://photos.app.goo.gl/'+_0x7cf0cd;let _0x5d638f=[];db['doc'](_0x7cf0cd)['get']()['then'](_0x4d7648=>{if(!_0x4d7648['exists']){request['get'](_0x3e5444,(_0x35283b,_0x5ce75e,_0x251b49)=>{_0x5d638f=getImageInAlbum(_0x251b49);db['doc'](_0x7cf0cd)['set']({'createDate':new Date(),'order':0x0,'value':_0x5d638f});_0x4192c8['send'](_0x5d638f);});}else{_0x4192c8['send'](_0x4d7648['data']()['value']);}});};function getImageInAlbum(_0x4f23b6){const _0x60bf22=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x45daf3=new Set();let _0x2efecf;while(_0x2efecf=_0x60bf22['exec'](_0x4f23b6)){_0x45daf3['add'](_0x2efecf[0x1]);}return Array['from'](_0x45daf3);}