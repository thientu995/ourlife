const _0x46694e=function(){let _0x3623a7=!![];return function(_0x4e6a77,_0x12b2a7){const _0x5e2ded=_0x3623a7?function(){if(_0x12b2a7){const _0x560b3d=_0x12b2a7['apply'](_0x4e6a77,arguments);_0x12b2a7=null;return _0x560b3d;}}:function(){};_0x3623a7=![];return _0x5e2ded;};}();const _0x5ea1b3=_0x46694e(this,function(){const _0x5c2496=function(){const _0x31576c=_0x5c2496['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x31576c['test'](_0x5ea1b3);};return _0x5c2496();});_0x5ea1b3();const _0x252146=function(){let _0x1d15d7=!![];return function(_0x48ad32,_0x14f74f){const _0x580265=_0x1d15d7?function(){if(_0x14f74f){const _0x80bd5=_0x14f74f['apply'](_0x48ad32,arguments);_0x14f74f=null;return _0x80bd5;}}:function(){};_0x1d15d7=![];return _0x580265;};}();const _0x10e5a6=_0x252146(this,function(){const _0x1b9867=function(){};let _0x4d122a;try{const _0x38895d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4d122a=_0x38895d();}catch(_0x1594d4){_0x4d122a=window;}if(!_0x4d122a['console']){_0x4d122a['console']=function(_0x105540){const _0x48d14e={};_0x48d14e['log']=_0x105540;_0x48d14e['warn']=_0x105540;_0x48d14e['debug']=_0x105540;_0x48d14e['info']=_0x105540;_0x48d14e['error']=_0x105540;_0x48d14e['exception']=_0x105540;_0x48d14e['table']=_0x105540;_0x48d14e['trace']=_0x105540;return _0x48d14e;}(_0x1b9867);}else{_0x4d122a['console']['log']=_0x1b9867;_0x4d122a['console']['warn']=_0x1b9867;_0x4d122a['console']['debug']=_0x1b9867;_0x4d122a['console']['info']=_0x1b9867;_0x4d122a['console']['error']=_0x1b9867;_0x4d122a['console']['exception']=_0x1b9867;_0x4d122a['console']['table']=_0x1b9867;_0x4d122a['console']['trace']=_0x1b9867;}});_0x10e5a6();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x562c06,_0x3c858b){const _0x5e6f86=_0x562c06['query']['idAlbum'];const _0x1965bb='https://photos.app.goo.gl/'+_0x5e6f86;let _0x4f18a0=[];db['doc'](_0x5e6f86)['get']()['then'](_0x27052f=>{if(!_0x27052f['exists']){request['get'](_0x1965bb,(_0xea81fd,_0x2c2f58,_0xfd9839)=>{_0x4f18a0=getImageInAlbum(_0xfd9839);db['doc'](_0x5e6f86)['set']({'createDate':new Date(),'order':0x0,'value':_0x4f18a0});_0x3c858b['send'](_0x4f18a0);});}else{_0x3c858b['send'](_0x27052f['data']()['value']);}});};function getImageInAlbum(_0xa021c9){const _0x59191a=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x79e077=new Set();let _0x91c92b;while(_0x91c92b=_0x59191a['exec'](_0xa021c9)){_0x79e077['add'](_0x91c92b[0x1]);}return Array['from'](_0x79e077);}