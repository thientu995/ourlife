const _0x256e69=function(){let _0x4826bc=!![];return function(_0x37d5a3,_0x529756){const _0x3a82fb=_0x4826bc?function(){if(_0x529756){const _0x23fe27=_0x529756['apply'](_0x37d5a3,arguments);_0x529756=null;return _0x23fe27;}}:function(){};_0x4826bc=![];return _0x3a82fb;};}();const _0x27bfc8=_0x256e69(this,function(){const _0x5d8b8a=function(){const _0x56a847=_0x5d8b8a['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x56a847['test'](_0x27bfc8);};return _0x5d8b8a();});_0x27bfc8();const _0x37a8af=function(){let _0x144a03=!![];return function(_0x1dd479,_0x11af21){const _0x26bd0f=_0x144a03?function(){if(_0x11af21){const _0x807e7b=_0x11af21['apply'](_0x1dd479,arguments);_0x11af21=null;return _0x807e7b;}}:function(){};_0x144a03=![];return _0x26bd0f;};}();const _0x335fa5=_0x37a8af(this,function(){const _0x1c5b1a=function(){};let _0x551b33;try{const _0x19a99a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x551b33=_0x19a99a();}catch(_0x218e19){_0x551b33=window;}if(!_0x551b33['console']){_0x551b33['console']=function(_0x3624c8){const _0x39bd5b={};_0x39bd5b['log']=_0x3624c8;_0x39bd5b['warn']=_0x3624c8;_0x39bd5b['debug']=_0x3624c8;_0x39bd5b['info']=_0x3624c8;_0x39bd5b['error']=_0x3624c8;_0x39bd5b['exception']=_0x3624c8;_0x39bd5b['table']=_0x3624c8;_0x39bd5b['trace']=_0x3624c8;return _0x39bd5b;}(_0x1c5b1a);}else{_0x551b33['console']['log']=_0x1c5b1a;_0x551b33['console']['warn']=_0x1c5b1a;_0x551b33['console']['debug']=_0x1c5b1a;_0x551b33['console']['info']=_0x1c5b1a;_0x551b33['console']['error']=_0x1c5b1a;_0x551b33['console']['exception']=_0x1c5b1a;_0x551b33['console']['table']=_0x1c5b1a;_0x551b33['console']['trace']=_0x1c5b1a;}});_0x335fa5();const request=require('request');const admin=require('firebase-admin');const db=admin['firestore']()['collection']('googlePhoto');module['exports']=function(_0x1efe4d,_0x19addf){const _0x160226=_0x1efe4d['query']['idAlbum'];const _0x297a95='https://photos.app.goo.gl/'+_0x160226;let _0x542064=[];db['doc'](_0x160226)['get']()['then'](_0x2e4f39=>{if(!_0x2e4f39['exists']){request['get'](_0x297a95,(_0x4719ad,_0x5267ae,_0x2a73c1)=>{_0x542064=getImageInAlbum(_0x2a73c1);db['doc'](_0x160226)['set']({'createDate':new Date(),'order':0x0,'value':_0x542064});_0x19addf['send'](_0x542064);});}else{_0x19addf['send'](_0x2e4f39['data']()['value']);}});};function getImageInAlbum(_0x206818){const _0x19c104=/\["(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9\-_]*)"/g;const _0x50c97a=new Set();let _0x286941;while(_0x286941=_0x19c104['exec'](_0x206818)){_0x50c97a['add'](_0x286941[0x1]);}return Array['from'](_0x50c97a);}